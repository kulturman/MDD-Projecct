<app-main-menu></app-main-menu>
<section class="container">
  <h1 class="page-title">Profil utilisateur</h1>

  <form class="form form--profile" [formGroup]="formGroup">
    <div class="form-group">
      <input class="form-control" type="text" formControlName="username">
      <app-form-control-error [form]="formGroup" name="username"></app-form-control-error>
    </div>
    <div class="form-group">
      <input class="form-control" type="email" formControlName="email">
      <app-form-control-error [form]="formGroup" name="email"></app-form-control-error>
    </div>

    <div class="center call-to-action">
      <button (click)="updateProfile()" type="submit" mat-raised-button color="primary">Sauvegarder</button>
      <p (click)="logout()" class="call-to-action__logout">
        Se déconnecter
      </p>
    </div>
    <swal
      #swalDialog
      text="Profil modifié avec succès"
      icon="success"
    >
    </swal>
  </form>
  <hr>
</section>

<section class="themes container">
  <h1 class="themes__title center">Abonnements</h1>
  <div class="themes__themes">
    <app-subscription
      (onUnsubscription)="unsubscribe(subscription.id)"
      [subscription]="subscription" *ngFor="let subscription of profile?.subscriptions">

    </app-subscription>
  </div>
</section>
